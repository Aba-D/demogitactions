
name: CI/CD .Net core App

on:
  push:
    branches: [ main ]

permissions:
  actions: read
  contents: read
  packages: write
  security-events: write

jobs:
  dotnet-ci:
    name: .NET Build and Containerization
    uses: aba-enterprise/enterprise-ci-templates/.github/workflows/dotnet-ci-template@main
    with:
      project-path: './dotnet-ecs-sample/dotnet-ecs-sample.csproj'
      dockerfile-path: './dotnet-ecs-sample/Dockerfile'
      image-name: 'dotnet-ecs-sample'
      ecr-repo: '707733857215.dkr.ecr.us-east-2.amazonaws.com/nonprodimagerepository'